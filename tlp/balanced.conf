# ==============================================================================
# /etc/tlp-profiles/balanced.conf
# ==============================================================================
# PROFILE: BALANCED - Daily Driver
# AC:  Full performance available, smart management
# BAT: Good performance with 80% cap, smart savings
# Expected: 6-9 hours battery life
# ==============================================================================

# --- CPU Settings for 1260P ---
PLATFORM_PROFILE_ON_AC=balanced
PLATFORM_PROFILE_ON_BAT=low-power

CPU_ENERGY_PERF_POLICY_ON_AC=balance_performance
CPU_ENERGY_PERF_POLICY_ON_BAT=balance_power

# Performance caps
CPU_MIN_PERF_ON_AC=0
CPU_MAX_PERF_ON_AC=100
CPU_MIN_PERF_ON_BAT=0
CPU_MAX_PERF_ON_BAT=80

# Turbo Boost always enabled (EPP will manage efficiency)
CPU_BOOST_ON_AC=1
CPU_BOOST_ON_BAT=1

# Dynamic boost on AC only
CPU_HWP_DYN_BOOST_ON_AC=1
CPU_HWP_DYN_BOOST_ON_BAT=0

# --- Intel Iris Xe Graphics ---
INTEL_GPU_MIN_FREQ_ON_AC=300
INTEL_GPU_MIN_FREQ_ON_BAT=300
INTEL_GPU_MAX_FREQ_ON_AC=1400
INTEL_GPU_MAX_FREQ_ON_BAT=900
INTEL_GPU_BOOST_FREQ_ON_AC=1450
INTEL_GPU_BOOST_FREQ_ON_BAT=900

# --- Storage (NVMe SSD) ---
DISK_DEVICES="nvme0n1"
AHCI_RUNTIME_PM_ON_AC=auto
AHCI_RUNTIME_PM_ON_BAT=auto
AHCI_RUNTIME_PM_TIMEOUT=15

DISK_IDLE_SECS_ON_AC=5
DISK_IDLE_SECS_ON_BAT=2

# --- PCIe Power Management ---
PCIE_ASPM_ON_AC=default
PCIE_ASPM_ON_BAT=powersupersave

RUNTIME_PM_ON_AC=auto
RUNTIME_PM_ON_BAT=auto

# --- Network ---
WIFI_PWR_ON_AC=off
WIFI_PWR_ON_BAT=on

# --- USB Power Saving ---
USB_AUTOSUSPEND=1
USB_EXCLUDE_BTUSB=0
USB_EXCLUDE_PHONE=1
USB_EXCLUDE_PRINTER=1
USB_EXCLUDE_WWAN=0

# --- Audio ---
SOUND_POWER_SAVE_ON_AC=1
SOUND_POWER_SAVE_ON_BAT=1
SOUND_POWER_SAVE_CONTROLLER=Y

# --- Radio Devices ---
DEVICES_TO_DISABLE_ON_STARTUP=""
DEVICES_TO_ENABLE_ON_STARTUP="wifi bluetooth"

RESTORE_DEVICE_STATE_ON_STARTUP=0
